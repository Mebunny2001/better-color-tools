function A(t,e){return e===void 0&&(e=15),+parseFloat(Number(t).toPrecision(e))}function p(t){var e=t.toString().split(/[eE]/),r=(e[0].split(".")[1]||"").length-+(e[1]||0);return r>0?r:0}function R(t){if(t.toString().indexOf("e")===-1)return Number(t.toString().replace(".",""));var e=p(t);return e>0?A(Number(t)*Math.pow(10,e)):Number(t)}function I(t){_&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&console.warn(t+" is beyond boundary when transfer to integer, the results may not be accurate")}function E(t,e){var r=t[0],n=t[1],a=t.slice(2),o=e(r,n);return a.forEach(function(f){o=e(o,f)}),o}function b(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length>2)return E(t,b);var r=t[0],n=t[1],a=R(r),o=R(n),f=p(r)+p(n),s=a*o;return I(s),s/Math.pow(10,f)}function F(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length>2)return E(t,F);var r=t[0],n=t[1],a=Math.pow(10,Math.max(p(r),p(n)));return(b(r,a)+b(n,a))/a}function q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length>2)return E(t,q);var r=t[0],n=t[1],a=Math.pow(10,Math.max(p(r),p(n)));return(b(r,a)-b(n,a))/a}function V(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length>2)return E(t,V);var r=t[0],n=t[1],a=R(r),o=R(n);return I(a),I(o),b(a/o,A(Math.pow(10,p(n)-p(r))))}function te(t,e){var r=Math.pow(10,e),n=V(Math.round(Math.abs(b(t,r))),r);return t<0&&n!==0&&(n=b(n,-1)),n}var _=!0;function re(t){t===void 0&&(t=!0),_=t}var ne={strip:A,plus:F,minus:q,times:b,divide:V,round:te,digitLength:p,float2Fixed:R,enableBoundaryChecking:re};var L=ne;var ae={black:0,silver:12632256,gray:8421504,white:16777215,maroon:8388608,red:16711680,purple:8388736,fuchsia:16711935,green:32768,lime:65280,olive:8421376,yellow:16776960,navy:128,blue:255,teal:32896,aqua:65535,orange:16753920,aliceblue:15792383,antiquewhite:16444375,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,blanchedalmond:16772045,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchard:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:3100495,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavendar:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,limegreen:3329330,linen:16445670,magenta:16711935,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,oldlace:16643558,olivedrab:7048739,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,whitesmoke:16119285,yellowgreen:10145074,rebeccapurple:6697881},O=ae;function B(t,e=2){let r=t;for(;r.length<e;)r=`0${r}`;return r}function c(t,e,r){return Math.min(Math.max(t,e),r)}function h(t,e){let r=[...t];for(let n=0;n<e.length;n++){let a=0;for(let o=0;o<e[0].length;o++)a+=t[o]*e[n][o];r[n]=a}return r}function C(t){let[e,r,n,a]=t;e=Math.abs(e%360);let o=r*(1-Math.abs(2*n-1)),f=o*(1-Math.abs(e/60%2-1)),s=0,l=0,i=0;0<=e&&e<60?(s=o,l=f):60<=e&&e<120?(s=f,l=o):120<=e&&e<180?(l=o,i=f):180<=e&&e<240?(l=f,i=o):240<=e&&e<300?(s=f,i=o):300<=e&&e<360&&(s=o,i=f);let m=n-o/2;return[s+m,l+m,i+m,a]}function N(t){let[e,r,n,a]=t;return[e,Math.sqrt(r**2+n**2),Math.atan2(n,r)/(Math.PI/180),a]}function P(t){let[e,r,n,a]=t,o=n*(Math.PI/180);return[e,r*Math.cos(o),r*Math.sin(o),a]}var oe=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],fe=[[4.0767416621,-3.3077115913,.2309699292],[-1.2684380046,2.6097574011,-.3413193965],[-.0041960863,-.7034186147,1.707614701]];function k(t){let e=t[0]**.3333333333333333,r=t[1]**(1/3),n=t[2]**(1/3),a=t[3];return h([e,r,n,a],oe)}function G(t){return h(t,fe)}var ie=[[.4122214708,.5363325363,.0514459929],[.2119034982,.6806995451,.1073969566],[.0883024619,.2817188376,.6299787005]];function y(t){return t.map((e,r)=>r===3?e:e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055)}function g(t){return t.map((e,r)=>r===3?e:e<=.04045?e/12.92:((e+.055)/1.055)**2.4)}function $(t){return h(t,ie)}var se=[[1,.3963377774,.2158037573],[1,-.1055613458,-.0638541728],[1,-.0894841775,-1.291485548]];function S(t){let e=h(t,se);return[e[0]**3,e[1]**3,e[2]**3,e[3]]}L.enableBoundaryChecking(!1);var x=5,le=/^#?[0-9a-f]{3,8}$/i,D=/^linear-gradient\s*\((.*)\);?$/,U=/^radial-gradient\s*\((.*)\);?$/,H=/^conic-gradient\s*\((.*)\);?$/,{round:u}=L;function Ae(t,e){return`color(${t} ${e[0]} ${e[1]} ${e[2]}${e[3]!==1?`/${e[3]}`:""})`}function d(t){let e=j(t);return{get hex(){return`#${e.map((r,n)=>n<3?B(u(r*255,0).toString(16),2):r<1?u(r*255,0).toString(16):"").join("")}`},get hexVal(){let r=e.map((n,a)=>a<3?B(u(n*255,0).toString(16),2):n<1?B((n*256).toString(16),2):"");return parseInt(`0x${r.join("")}`,16)},get rgb(){return e[3]==1?`rgb(${u(e[0]*255,0)}, ${u(e[1]*255,0)}, ${u(e[2]*255,0)})`:`rgba(${u(e[0]*255,0)}, ${u(e[1]*255,0)}, ${u(e[2]*255,0)}, ${u(e[3],x)})`},rgbVal:e,get rgba(){return`rgba(${u(e[0]*255,0)}, ${u(e[1]*255,0)}, ${u(e[2]*255,0)}, ${u(e[3],x)})`},rgbaVal:e,get linearRGB(){return g(e)},get p3(){let[r,n,a,o]=e;return`color(display-p3 ${u(r,x)} ${u(n,x)} ${u(a,x)}${o<1?`/${u(o,x)}`:""})`},get oklab(){let r=g(e),n=$(r),[a,o,f,s]=k(n);return`color(oklab ${u(a,x)} ${u(o,x)} ${u(f,x)}${s<1?`/${u(s,x)}`:""})`},get oklabVal(){let r=g(e),n=$(r);return k(n)},get oklch(){let r=g(e),n=$(r),a=k(n),[o,f,s,l]=N(a);return`color(oklch ${u(o,x)} ${u(f,x)} ${u(s,x)}${l<1?`/${u(l,x)}`:""})`},get oklchVal(){let r=g(e),n=$(r),a=k(n);return N(a)}}}function ce(t,e,r=.5,n="oklch"){let a=c(r,0,1);if(r===0)return d(t);if(r===1)return d(e);let o=1-a,f=a,s={oklch:[g,$,k,N],oklab:[g,$,k],linearRGB:[g],sRGB:[]},l={oklch:[P,S,G,y],oklab:[S,G,y],linearRGB:[y],sRGB:[]},i=s[n],m=l[n];if(!i)throw new Error(`Unknown color space "${n}", try "oklch", "oklab", "linearRGB", or "sRGB"`);let[v,T,K,J]=i.reduce((M,w)=>w(M),d(t).rgbVal),[Q,W,Y,Z]=i.reduce((M,w)=>w(M),d(e).rgbVal),ee=[v*o+Q*f,T*o+W*f,K*o+Y*f,J*o+Z*f];return d(m.reduce((M,w)=>w(M),ee))}function j(t){function e(n){let a=B(c(n,0,4294967295).toString(16),6);return[parseInt(a.substring(0,2),16)/255,parseInt(a.substring(2,4),16)/255,parseInt(a.substring(4,6),16)/255,parseInt(a.substring(6,8)||"ff",16)/255]}function r(n,a){let o=[],f="";for(let s=0;s<n.length;s++){let l=n.charAt(s);switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":{f+=l;break}case"%":{if(!f)throw new Error(`Unexpected color format: ${n}`);o.push(c(parseFloat(f)/100,0,1)),f="";break}default:{if(f){let i=parseFloat(f);if(f="",a[o.length]===1/0){o.push(i);break}if(o.length===3){o.push(c(i,0,1));break}o.push(i/a[o.length])}break}}}return o}if(Array.isArray(t)){if(t.some(n=>typeof n!="number"))throw new Error(`Color array must be numbers, received ${t}`);if(t.length<3||t.length>4)throw new Error(`Expected [R, G, B, A?], received ${t}`);return[c(t[0],0,1),c(t[1],0,1),c(t[2],0,1),typeof t[3]=="number"?c(t[3],0,1):1]}if(typeof t=="number")return e(t);if(typeof t=="string"){let n=t.trim();if(!n)throw new Error("Expected color, received empty string");if(typeof O[n.toLowerCase()]=="number")return e(O[n]);if(le.test(n)){let f=n.replace("#",""),s=parseInt(f.length<6?f.split("").map(l=>`${l}${l}`).join(""):f,16);return e(s)}let[a,o]=n.split("(");switch(a==="color"&&(a=o.split(" ")[0]),a){case"rgb":case"rgba":case"srgb":{let[f,s,l,i]=r(o,[255,255,255]);return[c(f,0,1),c(s,0,1),c(l,0,1),c(i,0,1)]}case"srgb-linear":{let[f,s,l,i]=r(o,[255,255,255]);return y([c(f,0,1),c(s,0,1),c(l,0,1),c(i,0,1)])}case"hsl":{let[f,s,l,i]=r(o,[1/0,1,1]);return C([f,c(s,0,1),c(l,0,1),c(i,0,1)])}case"p3":case"display-p3":{let[f,s,l,i]=r(o,[1,1,1]);return[c(f,0,1),c(s,0,1),c(l,0,1),c(i,0,1)]}case"oklab":{let f=r(o,[1,1,1]),s=S(f),l=G(s);return y(l)}case"oklch":{let f=r(o,[1,1,1/0]),s=P(f),l=S(s),i=G(l);return y(i)}}}throw new Error(`Unable to parse color "${t}"`)}function z(t,e){let r=c(e,-1,1);if(r===0)return d(t);if(r===1)return d("black");if(r>=0){let[n,a,o,f]=d(t).oklabVal,s=n-n*e;return d(`color(oklab ${s} ${a} ${o}/${f})`)}else return X(t,-r)}function X(t,e){let r=c(e,-1,1);if(r===0)return d(t);if(r===1)return d("white");if(r>=0){let[n,a,o,f]=d(t).oklabVal,s=n+n*e;return d(`color(oklab ${s} ${a} ${o}/${f})`)}else return z(t,-r)}function ue(t){return L.round(d(t).oklabVal[0],5)}function Ve(t){let e=t.trim(),r="linear-gradient",n,a=[];if(D.test(e))a=e.match(D)[1].split(",").map(i=>i.trim()),(a[0].includes("deg")||a[0].includes("turn")||a[0].includes("to "))&&(n=a.shift());else if(U.test(e))r="radial-gradient",a=e.match(U)[1].split(",").map(i=>i.trim()),(a[0].includes("circle")||a[0].includes("ellipse")||a[0].includes("closest-")||a[0].includes("farthest-"))&&(n=a.shift());else if(H.test(e))r="conic-gradient",a=e.match(H)[1].split(",").map(i=>i.trim()),a[0].includes("from")&&(n=a.shift());else throw new Error(`Unable to parse gradient "${t}"`);if(a.length<2)throw new Error("Gradient must have at least 2 stops");let o=0;for(let i of["%","px","em","rem","pt","ch","cm","in","mm","vh","vm"])e.includes(i)&&(o+=1);if(o>1)throw new Error("Can\u2019t normalize gradients with mixed units");let f=[],s=a.map(i=>parseFloat(i.substring(i.indexOf(" ")))||-1/0),l=Math.max(...s);for(let i=0;i<a.length;i++){if(f[i].color=d(a[i].split(" ")[0]).rgbVal,s[i]>=0){f[i].position=Math.min(s[i]/l,1);continue}else if(i===0){f[i].position=0;continue}else i===a.length-1&&(f[i].position=1);let m=f[i-1].position,v=a.findIndex(T=>parseFloat(T.substring(T.indexOf(" ")))>0);v===-1&&(v=a.length-1),f[i].position=(v-m)/v}return{type:r,position:n,stops:f}}var Oe={darken:z,from:d,lighten:X,lightness:ue,mix:ce,parse:j};export{H as CON_GRAD_RE,le as HEX_RE,D as LIN_GRAD_RE,U as RAD_GRAD_RE,Ae as colorFn,z as darken,Oe as default,d as from,X as lighten,ue as lightness,ce as mix,j as parse,Ve as parseGradient};
