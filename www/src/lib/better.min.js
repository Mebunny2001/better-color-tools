function P(r,e){return e===void 0&&(e=15),+parseFloat(Number(r).toPrecision(e))}function x(r){var e=r.toString().split(/[eE]/),n=(e[0].split(".")[1]||"").length-+(e[1]||0);return n>0?n:0}function G(r){if(r.toString().indexOf("e")===-1)return Number(r.toString().replace(".",""));var e=x(r);return e>0?P(Number(r)*Math.pow(10,e)):Number(r)}function F(r){_&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&console.warn(r+" is beyond boundary when transfer to integer, the results may not be accurate")}function I(r,e){var n=r[0],t=r[1],o=r.slice(2),a=e(n,t);return o.forEach(function(f){a=e(a,f)}),a}function m(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length>2)return I(r,m);var n=r[0],t=r[1],o=G(n),a=G(t),f=x(n)+x(t),s=o*a;return F(s),s/Math.pow(10,f)}function U(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length>2)return I(r,U);var n=r[0],t=r[1],o=Math.pow(10,Math.max(x(n),x(t)));return(m(n,o)+m(t,o))/o}function X(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length>2)return I(r,X);var n=r[0],t=r[1],o=Math.pow(10,Math.max(x(n),x(t)));return(m(n,o)-m(t,o))/o}function H(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length>2)return I(r,H);var n=r[0],t=r[1],o=G(n),a=G(t);return F(o),F(a),m(o/a,P(Math.pow(10,x(t)-x(n))))}function te(r,e){var n=Math.pow(10,e),t=H(Math.round(Math.abs(m(r,n))),n);return r<0&&t!==0&&(t=m(t,-1)),t}var _=!0;function ne(r){r===void 0&&(r=!0),_=r}var oe={strip:P,plus:U,minus:X,times:m,divide:H,round:te,digitLength:x,float2Fixed:G,enableBoundaryChecking:ne};var l=oe;l.enableBoundaryChecking(!1);function S(r,e=2){let n=r;for(;n.length<e;)n=`0${n}`;return n}function z(r){return l.times(r,l.divide(Math.PI,180))}function D(r){return l.times(r,l.divide(180,Math.PI))}function u(r,e,n){return Math.min(Math.max(r,e),n)}function E(r,e){let n=[...r];for(let t=0;t<e.length;t++){let o=0;for(let a=0;a<e[0].length;a++)o+=r[a]*e[t][a];n[t]=o}return n}var ae=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],fe=[[4.0767416621,-3.3077115913,.2309699292],[-1.2684380046,2.6097574011,-.3413193965],[-.0041960863,-.7034186147,1.707614701]],le=[[.4122214708,.5363325363,.0514459929],[.2119034982,.6806995451,.1073969566],[.0883024619,.2817188376,.6299787005]],se=[[1,.3963377774,.2158037573],[1,-.1055613458,-.0638541728],[1,-.0894841775,-1.291485548]];function K(r){let[e,n,t,o]=r;e=Math.abs(e%360);let a=n*(1-Math.abs(2*t-1)),f=a*(1-Math.abs(e/60%2-1)),s=0,i=0,c=0;0<=e&&e<60?(s=a,i=f):60<=e&&e<120?(s=f,i=a):120<=e&&e<180?(i=a,c=f):180<=e&&e<240?(i=f,c=a):240<=e&&e<300?(s=f,c=a):300<=e&&e<360&&(s=a,c=f);let y=t-a/2;return[s+y,i+y,c+y,o]}function N(r){let[e,n,t,o]=r,a=n===0&&t===0?0:D(Math.atan2(t,n));return[e,Math.sqrt(n**2+t**2),a<0?a+360:a,o]}function A(r){let[e,n,t,o]=r,a=z(t);return[e,n*Math.cos(a),n*Math.sin(a),o]}function h(r){let e=r[0]**.3333333333333333,n=r[1]**(1/3),t=r[2]**(1/3),o=r[3];return E([e,n,t,o],ae)}function M(r){let[e,n,t,o]=E(r,fe);return[Math.max(0,e),Math.max(0,n),Math.max(0,t),Math.max(0,o)]}function p(r){return r.map((e,n)=>n===3?u(e,0,1):e<=.0031308?u(e*12.92,0,1):u(1.055*e**(1/2.4)-.055,0,1))}function k(r){return E(r,le)}function L(r){let e=E(r,se);return[e[0]**3,e[1]**3,e[2]**3,e[3]]}function b(r){return r.map((e,n)=>n===3?e:e<=.04045?e/12.92:((e+.055)/1.055)**2.4)}var ie={black:0,silver:12632256,gray:8421504,white:16777215,maroon:8388608,red:16711680,purple:8388736,fuchsia:16711935,green:32768,lime:65280,olive:8421376,yellow:16776960,navy:128,blue:255,teal:32896,aqua:65535,orange:16753920,aliceblue:15792383,antiquewhite:16444375,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,blanchedalmond:16772045,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchard:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:3100495,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavendar:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,limegreen:3329330,linen:16445670,magenta:16711935,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,oldlace:16643558,olivedrab:7048739,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,whitesmoke:16119285,yellowgreen:10145074,rebeccapurple:6697881},j=ie;l.enableBoundaryChecking(!1);var d=5,ue=/[0-9.-]+%?/g,ce=/^#?[0-9a-f]{3,8}$/i;function g(r){let e=de(r),n={get hex(){return`#${e.map((t,o)=>o<3?S(l.round(t*255,0).toString(16),2):t<1?l.round(t*255,0).toString(16):"").join("")}`},get hexVal(){let t=e.map((o,a)=>a<3?S(l.round(o*255,0).toString(16),2):o<1?S((o*256).toString(16),2):"");return parseInt(`0x${t.join("")}`,16)},get rgb(){return e[3]==1?`rgb(${l.round(e[0]*255,0)}, ${l.round(e[1]*255,0)}, ${l.round(e[2]*255,0)})`:`rgba(${l.round(e[0]*255,0)}, ${l.round(e[1]*255,0)}, ${l.round(e[2]*255,0)}, ${l.round(e[3],d)})`},rgbVal:e,get rgba(){return`rgba(${l.round(e[0]*255,0)}, ${l.round(e[1]*255,0)}, ${l.round(e[2]*255,0)}, ${l.round(e[3],d)})`},rgbaVal:e,get linearRGB(){return b(e)},get p3(){let[t,o,a,f]=e;return`color(display-p3 ${l.round(t,d)} ${l.round(o,d)} ${l.round(a,d)}${f<1?`/${l.round(f,d)}`:""})`},p3Val:e,get oklab(){let t=b(e),o=k(t),[a,f,s,i]=h(o);return`color(oklab ${l.round(a,d)} ${l.round(f,d)} ${l.round(s,d)}${i<1?`/${l.round(i,d)}`:""})`},get oklabVal(){let t=b(e),o=k(t);return h(o)},get oklch(){let t=b(e),o=k(t),a=h(o),[f,s,i,c]=N(a);return`color(oklch ${l.round(f,d)} ${l.round(s,d)} ${l.round(i,d)}${c<1?`/${l.round(c,d)}`:""})`},get oklchVal(){let t=b(e),o=k(t),a=h(o);return N(a)}};return n.toString=()=>n.hex,n}function de(r){function e(t){let o=S(u(t,0,4294967295).toString(16),6);return[parseInt(o.substring(0,2),16)/255,parseInt(o.substring(2,4),16)/255,parseInt(o.substring(4,6),16)/255,parseInt(o.substring(6,8)||"ff",16)/255]}function n(t,o){let a=t.match(ue);if(!a)throw new Error(`Unexpected color format: ${t}`);let f=[0,0,0,1];return a.forEach((s,i)=>{s.includes("%")?f[i]=parseFloat(s)/100:o[i]===1/0?f[i]=parseFloat(s):f[i]=parseFloat(s)/o[i]}),f}if(Array.isArray(r)){if(r.some(t=>typeof t!="number"))throw new Error(`Color array must be numbers, received ${r}`);if(r.length<3||r.length>4)throw new Error(`Expected [R, G, B, A?], received ${r}`);return[u(r[0],0,1),u(r[1],0,1),u(r[2],0,1),typeof r[3]=="number"?u(r[3],0,1):1]}if(typeof r=="number")return e(r);if(typeof r=="string"){let t=r.trim();if(!t)throw new Error("Expected color, received empty string");if(typeof j[t.toLowerCase()]=="number")return e(j[t]);if(ce.test(t)){let f=t.replace("#",""),s=parseInt(f.length<6?f.split("").map(i=>`${i}${i}`).join(""):f,16);return e(s)}let[o,a]=t.split("(");switch(o==="color"&&(o=a.split(" ")[0]),o){case"rgb":case"rgba":case"srgb":{let[f,s,i,c]=n(a,[255,255,255]);return[u(f,0,1),u(s,0,1),u(i,0,1),u(c,0,1)]}case"srgb-linear":{let[f,s,i,c]=n(a,[255,255,255]);return p([u(f,0,1),u(s,0,1),u(i,0,1),u(c,0,1)])}case"hsl":{let[f,s,i,c]=n(a,[1/0,1,1]);return K([f,u(s,0,1),u(i,0,1),u(c,0,1)])}case"p3":case"display-p3":{let[f,s,i,c]=n(a,[1,1,1]);return[u(f,0,1),u(s,0,1),u(i,0,1),u(c,0,1)]}case"oklab":{let f=n(a,[1,1,1]),s=L(f),i=M(s);return p(i)}case"oklch":{let f=n(a,[1,1,1/0]),s=A(f),i=L(s),c=M(i);return p(c)}}}throw new Error(`Unable to parse color "${r}"`)}function C(r){return l.round(g(r).oklabVal[0],5)}function v(r,e,n=.5,t="oklab"){let o=u(n,0,1);if(n===0)return g(r);if(n===1)return g(e);let a=1-o,f=o,s={oklch:[b,k,h,N],oklab:[b,k,h],linearRGB:[b],sRGB:[]},i={oklch:[A,L,M,p],oklab:[L,M,p],linearRGB:[p],sRGB:[]},c=s[t],y=i[t];if(!c)throw new Error(`Unknown color space "${t}", try "oklab", "oklch", "linearRGB", or "sRGB"`);let B=g(r).rgbVal,R=g(e).rgbVal;t==="oklch"&&(B[0]===B[1]&&B[1]===B[2]||R[0]===R[1]&&R[1]===R[2])&&(c=s.oklab,y=i.oklab);let[J,Q,O,W]=c.reduce(($,w)=>w($),B),[Y,Z,T,ee]=c.reduce(($,w)=>w($),R);t==="oklch"&&Math.abs(T-O)>180&&(Math.max(O,T)===T?T-=360:O-=360);let re=[J*a+Y*f,Q*a+Z*f,O*a+T*f,W*a+ee*f];return g(y.reduce(($,w)=>w($),re))}function V(r,e,n="oklab"){let t=u(e,-1,1);return t>=0?v(r,"black",t,n):q(r,-t)}function q(r,e,n="oklab"){let t=u(e,-1,1);return t>=0?v(r,"white",t,n):V(r,-t)}var Ie={darken:V,from:g,lighten:q,lightness:C,mix:v};export{V as darken,Ie as default,g as from,q as lighten,C as lightness,v as mix};
